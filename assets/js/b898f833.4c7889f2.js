"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6482],{8453:(e,t,o)=>{o.d(t,{R:()=>r,x:()=>i});var a=o(6540);const s={},n=a.createContext(s);function r(e){const t=a.useContext(n);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(n.Provider,{value:t},e.children)}},9618:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"get-started/docker","title":"Get started with wa-automate via Docker","description":"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence.","source":"@site/docs/get-started/docker.md","sourceDirName":"get-started","slug":"/get-started/docker","permalink":"/docs/get-started/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/get-started/docker.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Get started with wa-automate via Docker","sidebar_label":"Docker","sidebar_position":1,"description":"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence."},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/docs/get-started/quick-run"},"next":{"title":"Custom Code","permalink":"/docs/get-started/installation"}}');var s=o(4848),n=o(8453);const r={title:"Get started with wa-automate via Docker",sidebar_label:"Docker",sidebar_position:1,description:"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence."},i=void 0,d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Run the container (EASY API)",id:"run-the-container-easy-api",level:2},{value:"Using the docker image with your own code",id:"using-the-docker-image-with-your-own-code",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["open-wa has universal images on\n",(0,s.jsx)(t.a,{href:"%7B@dockerUrl@%7D",children:"Docker Hub"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(t.p,{children:"Make sure you have docker installed on your system and are not using a Apple silicon chip. Due to the lack of an ARM compatibile Google Chrome, the docker container does not run on ARM machines."}),"\n",(0,s.jsx)(t.h2,{id:"run-the-container-easy-api",children:"Run the container (EASY API)"}),"\n",(0,s.jsxs)(t.p,{children:["You can use the following docker command as a drop-in replacement for the normal CLI command (",(0,s.jsx)(t.code,{children:"npx @open-wa/wa-automate"}),"). This means you can use CLI flags normally right after ",(0,s.jsx)(t.code,{children:"docker run openwa/wa-automate"}),". The below example runs the library in socket mode."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"> docker run openwa/wa-automate --socket\n"})}),"\n",(0,s.jsx)(t.p,{children:"The docker image already has some defaults that do not need to be set via additional CLI flags."}),"\n",(0,s.jsx)(t.h2,{id:"using-the-docker-image-with-your-own-code",children:"Using the docker image with your own code"}),"\n",(0,s.jsx)(t.p,{children:"You can extend the docker image and use it as a base for your own custom project. This is useful so you don't have to worry about dependencies. The image is optimised and slimmed out to prevent needless bloat."}),"\n",(0,s.jsxs)(t.p,{children:["First thing you need to do is to override the ",(0,s.jsx)(t.code,{children:"ENTRYPOINT"})," of the base docker image by adding the line ",(0,s.jsx)(t.code,{children:"ENTRYPOINT []"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-Dockerfile",children:"FROM openwa/wa-automate\nENTRYPOINT []\n\n# Now you can add your custom docker commands\n"})}),"\n",(0,s.jsxs)(t.p,{children:["After the above, add your custom docker commands to ",(0,s.jsx)(t.code,{children:"COPY"})," your custom code into the image and then ",(0,s.jsx)(t.code,{children:"RUN"})," it at the end."]}),"\n",(0,s.jsxs)(t.p,{children:["Both methods are explained in the ",(0,s.jsx)(t.a,{href:"https://github.com/open-wa/wa-automate-docker",children:(0,s.jsx)(t.code,{children:"@open-wa/wa-automate-docker"})})," repository."]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);