"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[907],{6705:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"how-to/misc","title":"More examples","description":"Simulate typing","source":"@site/docs/how-to/misc.md","sourceDirName":"how-to","slug":"/how-to/misc","permalink":"/docs/how-to/misc","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/how-to/misc.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Manage Participants","permalink":"/docs/how-to/manage-participants"},"next":{"title":"Reacting To Group Events","permalink":"/docs/how-to/react-to-group-events"}}');var i=n(4848),o=n(8453);const r={},a="More examples",c={},l=[{value:"Simulate typing",id:"simulate-typing",level:2},{value:"Load profile pics from server",id:"load-profile-pics-from-server",level:2},{value:"Listen to Read Receipts",id:"listen-to-read-receipts",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"more-examples",children:"More examples"})}),"\n",(0,i.jsx)(t.h2,{id:"simulate-typing",children:"Simulate typing"}),"\n",(0,i.jsx)(t.p,{children:"As of version 1.3.1 you can now simulate '...typing'"}),"\n",(0,i.jsx)(t.p,{children:"You need to pass the following params:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["chat id: ",(0,i.jsx)(t.a,{href:"mailto:xxxxx@c.us",children:"xxxxx@c.us"})]}),"\n",(0,i.jsx)(t.li,{children:"on: true or false"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Note: You need to manually turn this off!!!"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"//start '...typing'\nawait client.simulateTyping('xxxxx@c.us',true)\n//wait 3 seconds\n\n//stop '...typing'\nawait client.simulateTyping('xxxxx@c.us',false)\n"})}),"\n",(0,i.jsx)(t.h2,{id:"load-profile-pics-from-server",children:"Load profile pics from server"}),"\n",(0,i.jsx)(t.p,{children:"Generally, after the 20th chat in your WA, getChat methods do not retreive the chat picture. You need to get these from the WA servers. This is how you do it in v1.6.6^:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"client.getProfilePicFromServer('XXXXXXX-YYYYY@c.us')\n"})}),"\n",(0,i.jsx)(t.h2,{id:"listen-to-read-receipts",children:"Listen to Read Receipts"}),"\n",(0,i.jsx)(t.p,{children:"As of version 1.5.3 you can now listen in on the read state (or technically acknowledgement state) of the messages. As of writing the limitation is presumed to be on sent messages."}),"\n",(0,i.jsx)(t.p,{children:"The callback you set returns the whole raw message object."}),"\n",(0,i.jsx)(t.p,{children:"Here's how you do it."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"client.onAck((msg:any) => console.log(msg.id.toString(),msg.body,msg.ack))\n"})}),"\n",(0,i.jsx)(t.p,{children:"ack represents the acknoledgement state, of which there are 3."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"1 => Message Sent (1 tick)\n\n2 => Message Received by Recipient (2 ticks)\n\n3 => Message Read Receipt Confirmed (2 blue ticks)\n"})}),"\n",(0,i.jsx)(t.p,{children:"Note: You won't get 3 if the recipient has read receipts off."})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(6540);const i={},o=s.createContext(i);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);